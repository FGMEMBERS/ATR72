<?xml version="1.0" encoding="UTF-8" ?>

<PropertyList>

	<sim>
		<description>Avions Transportation Regional ATR72-500</description>
		<flight-model>jsb</flight-model>
		<aero>ATR72-500</aero>
		<authors>Narendran Muraleedharan</authors>
		<engine>pw127f</engine>

		<model>
			<path>Aircraft/ATR72/Models/ATR72-500.xml</path>
            <livery>
               <file type="string">blank</file>
            </livery> 
		</model>

	<flaps>
		<setting>0.000</setting> <!-- Flaps up -->
		<setting>0.428</setting> <!-- 15 Degrees (take-off) -->
		<!-- setting>0.714</setting --> <!-- 25 Degrees (light landing) ONLY APPLICABLE FOR ATR42 -->
		<setting>1.000</setting> <!-- 35 Degrees (heavy landing) -->
	</flaps>

		<startup>
			<splash-texture>Aircraft/ATR72/splash.png</splash-texture>
		</startup>
	
		<chase-distance-m>-60</chase-distance-m>

		<sound>
			<path>Aircraft/ATR72/ATR-sound.xml</path>
		</sound>

		<instrumentation>
			<path>Aircraft/ATR72/Systems/instrumentation.xml</path>
		</instrumentation>
        
	<view n="0">
		<name>Pilot View</name>
		<type>lookfrom</type>
		<internal type="bool">true</internal>
		<cockpit type="bool">true</cockpit>
		<config>
			<x-offset-m type="double">-0.54</x-offset-m>
			<y-offset-m type="double">1.0833</y-offset-m>
			<z-offset-m type="double">-10.2479</z-offset-m>
			<pitch-offset-deg>-3</pitch-offset-deg>
			<default-field-of-view-deg type="double">60.0</default-field-of-view-deg>
		</config>
	</view>
	
	<view n="101">
		<name>Copilot View</name>
		<type>lookfrom</type>
		<internal archive="y">true</internal>
		<cockpit type="bool">true</cockpit>
		<config>
			<from-model type="bool">true</from-model>
			<from-model-idx type="int">0</from-model-idx>
			<ground-level-nearplane-m type="double">0.5f</ground-level-nearplane-m>
			<x-offset-m type="double">0.54</x-offset-m>
			<y-offset-m type="double">1.0833</y-offset-m>
			<z-offset-m type="double">-10.2479</z-offset-m>
			<pitch-offset-deg>-4</pitch-offset-deg>
			<default-field-of-view-deg type="double">65</default-field-of-view-deg>
		</config>
	</view>

		<menubar>
			<default>
                <menu n="3">
                    <item n="0">
		                <label>Autopilot Dialog</label>
		                <enabled type="bool">false</enabled>
                        <binding>
							<command>nasal</command>
							<script>
							<!-- Disabled -->
							</script>
                        </binding>
                    </item>
                </menu>
                <menu n="100">
                	<label>ATR72-500</label>
                    <item n="0">
		                <label>Autostart Aircraft</label>
                        <binding>
							<command>nasal</command>
							<script>
								atr.autostart();
							</script>
                        </binding>
                    </item>
                    <item>
						<label>Select Livery</label>
						<binding>
							<command>nasal</command>
							<script>
							 aircraft.livery.dialog.open();
							</script>
						</binding>
					</item>
					<item>
						<label>Toggle Tail Support</label>
						<binding>
							<command>nasal</command>
							<script>
							
								if (getprop("/fdm/jsbsim/contact/unit[5]/z-position") == -5.516) {
								
									setprop("/fdm/jsbsim/contact/unit[5]/z-position", -65);
								
								} else {
								
									setprop("/fdm/jsbsim/contact/unit[5]/z-position", -5.516);
									
								
								}
							
							</script>
						</binding>
					</item>
					<item>
						<name>lights</name>
						<label>NavDisplay Settings</label>
						<binding>
							<command>nasal</command>
							<script>
							 var nav_display_settings = gui.Dialog.new("sim/gui/dialogs/nav-display-settings/dialog", "Aircraft/ATR72/Systems/nd-settings-dlg.xml");
							 nav_display_settings.open();
							</script>
						</binding>
					</item>
                </menu>
			</default>
		</menubar>
		
		<systems>
		<!-- Disable Generic FlightGear Electrical System for my nasal system to work -->
		<electrical>
			<path></path>
		</electrical>
		<!-- Automatic Flight Control System PIDs -->
		<autopilot>
				<name>AFCS Lateral Axis</name>
				<path>Aircraft/ATR72/Systems/AFCS_lateral.xml</path>
		</autopilot>
		<autopilot>
				<name>AFCS Vertical Axis</name>
				<path>Aircraft/ATR72/Systems/AFCS_vertical.xml</path>
		</autopilot>
		<!-- Autopilot Internal Helpers -->
		<autopilot>
			<name>Autopilot Internal Helpers</name>
			<path>Aircraft/Generic/generic-autopilot-helper.xml</path>
		</autopilot>
		
	</systems>
	
	<flight-recorder>
			<replay-config type="int">0</replay-config>
			<config n="0" include="/Aircraft/Generic/flightrecorder/generic-jet.xml">
				<name type="string">ATR 72-500 Flight Recorder</name>
				<!-- Custom properties -->
				<signal>
					<type>float</type>
					<property type="string">/aircraft/wingflex</property>
					<interpolation>linear</interpolation>
				</signal>
				<signal>
					<type>float</type>
					<property type="string">/gear/gear[0]/compression-ft</property>
					<interpolation>linear</interpolation>
				</signal>
				<signal>
					<type>float</type>
					<property type="string">/gear/gear[1]/compression-ft</property>
					<interpolation>linear</interpolation>
				</signal>
				<signal>
					<type>float</type>
					<property type="string">/gear/gear[2]/compression-ft</property>
					<interpolation>linear</interpolation>
				</signal>
				<signal>
					<type>float</type>
					<property type="string">/engines/engine[0]/thruster/prop_rpm</property>
					<interpolation>linear</interpolation>
				</signal>
				<signal>
					<type>float</type>
					<property type="string">/engines/engine[0]/thruster/prop_pitch</property>
					<interpolation>linear</interpolation>
				</signal>
				<signal>
					<type>float</type>
					<property type="string">/engines/engine[1]/thruster/prop_rpm</property>
					<interpolation>linear</interpolation>
				</signal>
				<signal>
					<type>float</type>
					<property type="string">/engines/engine[1]/thruster/prop_pitch</property>
					<interpolation>linear</interpolation>
				</signal>
			</config>
		</flight-recorder>

	</sim>
	
	<aircraft>
		<prop-brake type="bool">false</prop-brake>
		<afcs>
			<lat-mode type="string">hdg</lat-mode>
			<ver-mode type="string">alt</ver-mode>
			<ap-master type="bool">false</ap-master>
			<yd type="bool">false</yd>
			<hdg-setting type="int">0</hdg-setting>
			<crs1 type="int">0</crs1>
			<crs2 type="int">0</crs2>
			<alt-setting type="int">10000</alt-setting>
			<vs-setting type="int">0</vs-setting>
			<ias-setting type="int">180</ias-setting>
			<bank-limit type="int">27</bank-limit>
		</afcs>
		<collins>
			<nav0-editmode type="string">standby</nav0-editmode>
			<nav0-editmode-int type="int">0</nav0-editmode-int>
			<nav0-mode typpe="int">1</nav0-mode>
			<nav1-mode typpe="int">1</nav1-mode>
			<com0-mode typpe="int">1</com0-mode>
			<com1-mode typpe="int">1</com1-mode>
			<com0-editmode type="string">standby</com0-editmode>
			<com0-editmode-int type="int">0</com0-editmode-int>
			<adf0-editmode type="string">standby</adf0-editmode>
			<adf0-editmode-int type="int">0</adf0-editmode-int>
			<nav1-editmode type="string">standby</nav1-editmode>
			<nav1-editmode-int type="int">0</nav1-editmode-int>
			<com1-editmode type="string">standby</com1-editmode>
			<com1-editmode-int type="int">0</com1-editmode-int>
			<adf1-editmode type="string">standby</adf1-editmode>
			<adf1-editmode-int type="int">0</adf1-editmode-int>
			<xpndr-editmode type="string">standby</xpndr-editmode>
			<xpndr-editmode-int type="int">0</xpndr-editmode-int>
			<tcas-editmode type="string">standby</tcas-editmode>
			<tcas-editmode-int type="int">0</tcas-editmode-int>
		</collins>
	</aircraft>
	
	<controls>
		<lighting>
			<nav-lights type="bool">false</nav-lights>
			<beacon type="bool">false</beacon>
			<strobe type="bool">false</strobe>
		</lighting>
		<electric>
			<engine n="0">
				<generator type="bool">false</generator>
				<fuel-pump type="bool">false</fuel-pump>
			</engine>
			<engine n="1">
				<generator type="bool">false</generator>
				<fuel-pump type="bool">false</fuel-pump>
			</engine>
		</electric>
		<elec_panel>
			<gen1 type="bool">false</gen1>
			<gen2 type="bool">false</gen2>
			<batt-main type="bool">false</batt-main>
			<batt-emer type="bool">false</batt-emer>
			<ext-pwr type="bool">false</ext-pwr>
		</elec_panel>
		<engines>
			<engine n="0">
				<master-alt type="bool">true</master-alt>
				<master-bat type="bool">true</master-bat>
			</engine>
			<engine n="1">
				<master-alt type="bool">true</master-alt>
				<master-bat type="bool">true</master-bat>
			</engine>
		</engines>
	</controls>
	
	<instrumentation>
		<adu>
			<brt type="float">0.6</brt>
		</adu>
		 <tcas>
            <serviceable type="bool">true</serviceable>
            <inputs>
                <mode type="int">3</mode>       <!-- 0=off, 1=standby, 2=TA-only, 3=auto(TA/RA) -->
            </inputs>
            <!--voice>
                <file-prefix type="string">Sounds/tcas/</file-prefix>
            </voice-->
            <speaker>                           <!-- Speaker Configuration -->
                <max-dist type="double">6</max-dist>        <!-- Max. distance where speaker is heard -->
                <reference-dist type="double"> 2 </reference-dist> <!-- Distance to pilot -->
                <volume type="double"> 1 </volume>          <!-- Volume at reference distance -->
            </speaker>
            <range type="int">20</range>
        </tcas>
        <nd>
            <radar-texture-path type="string">Aircraft/ATR72/Models/Instruments/EHSI/radar.png</radar-texture-path>
            <symbol-texture-path type="string">Aircraft/ATR72/Models/Instruments/EHSI/symbols.png</symbol-texture-path>
            <font>
                <color>
                    <red type="float">0.7</red>
                    <green type="float">0.7</green>
                    <blue type="float">0.7</blue>
                    <alpha type="float">1</alpha>
                </color>
                <name type="string">helvetica_bold.txf</name>
                <size type="float">14</size>
                <line-spacing type="float">0.01</line-spacing>
            </font>
            <serviceable type="bool">true</serviceable>
            <range type="int" archive="y">20</range>
            <aircraft-heading-up type="bool">true</aircraft-heading-up>
            <heading-up-deg type="float">0.01</heading-up-deg>
            <x-center type="float">0.5</x-center>
            <y-center type="float">0.5</y-center>
            <display>
                <arpt type="bool">0</arpt>
                <vor type="bool">0</vor>
                <fix type="bool">0</fix>
            </display>
            <line-width type="double">3</line-width>
        </nd>
        <tcas-display>
            <radar-texture-path type="string">Aircraft/ATR72/Models/Instruments/EHSI/tcas-display.png</radar-texture-path>
            <symbol-texture-path type="string">Aircraft/ATR72/Models/Instruments/EHSI/symbols.png</symbol-texture-path>
            <font>
                <color>
                    <red type="float">0.7</red>
                    <green type="float">0.7</green>
                    <blue type="float">0.7</blue>
                    <alpha type="float">1</alpha>
                </color>
                <name type="string">helvetica_bold.txf</name>
                <size type="float">14</size>
                <line-spacing type="float">0.01</line-spacing>
            </font>
            <serviceable type="bool">true</serviceable>
            <range type="int" archive="y">20</range>
            <aircraft-heading-up type="bool">true</aircraft-heading-up>
            <heading-up-deg type="float">0.01</heading-up-deg>
            <x-center type="float">0.5</x-center>
            <y-center type="float">0.5</y-center>
            <display>
                <tcas type="bool">1</tcas>
            </display>
            <line-width type="double">3</line-width>
        </tcas-display>
        <nd-settings>
            <map type="bool">0</map>
            <tcas type="bool">1</tcas>
            <wx type="bool">0</wx>
            <apt type="bool">1</apt>
            <apt-id type="bool">1</apt-id>
            <vor type="bool">1</vor>
            <vor-id type="bool">1</vor-id>
        </nd-settings>
	</instrumentation>

	<consumables>
		<fuel>
			<tank n="0">
				<name>Left Wing Fuel Tank</name>
			</tank>
			<tank n="1">
				<name>Right Wing Fuel Tank</name>
			</tank>
		</fuel>
	</consumables>

	<payload>

	<weight n="0">
		<name>Crew</name>
		<weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[0]">380</weight-lb>
		<max-lb>480</max-lb>
		<min-lb>100</min-lb>
	</weight>

	<weight n="1">
		<name>Cargo</name>
		<weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[1]">750</weight-lb>
		<max-lb>960</max-lb>
		<min-lb>0</min-lb>
	</weight>

	<weight n="2">
		<name>Passengers</name>
		<weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[2]">12000</weight-lb>
		<max-lb>13320</max-lb>
		<min-lb>0</min-lb>
	</weight>
	</payload>

	<input>
		<keyboard>
			<key n="357">
				<name>Up</name>
				<repeatable type="bool">true</repeatable>
				  <mod-alt>
				   <desc>Tilt View Up</desc>
				   <binding>
					<command>nasal</command>
					<script>
						setprop("/sim/current-view/pitch-offset-deg", getprop("/sim/current-view/pitch-offset-deg") + 1);
					</script>
				   </binding>
				  </mod-alt>
			</key>
			<key n="359">
				<name>Down</name>
				<repeatable type="bool">true</repeatable>
				  <mod-alt>
				   <desc>Tilt View Down</desc>
				   <binding>
					<command>nasal</command>
					<script>
						setprop("/sim/current-view/pitch-offset-deg", getprop("/sim/current-view/pitch-offset-deg") - 1);
					</script>
				   </binding>
				  </mod-alt>
			</key>
			<key n="356">
				<name>Left</name>
				<repeatable type="bool">true</repeatable>
				  <mod-alt>
				   <desc>Pan View Left</desc>
				   <binding>
					<command>nasal</command>
					<script>
						setprop("/sim/current-view/heading-offset-deg", getprop("/sim/current-view/heading-offset-deg") + 1);
					</script>
				   </binding>
				  </mod-alt>
			</key>
			<key n="358">
				<name>Right</name>
				<repeatable type="bool">true</repeatable>
				  <mod-alt>
				   <desc>Pan View Right</desc>
				   <binding>
					<command>nasal</command>
					<script>
						setprop("/sim/current-view/heading-offset-deg", getprop("/sim/current-view/heading-offset-deg") - 1);
					</script>
				   </binding>
				  </mod-alt>
			</key>
		</keyboard>
	</input>

	<nasal>
		<walk>
			<file>Aircraft/ATR72/Nasal/walk.nas</file>
		</walk>
		<atr>
			<file>Aircraft/ATR72/Nasal/autostart.nas</file>
			<file>Aircraft/ATR72/Engines/propeller.nas</file>
			<file>Aircraft/ATR72/Nasal/general_loop.nas</file>
			<file>Aircraft/ATR72/Nasal/electrical.nas</file>
			<file>Aircraft/ATR72/Nasal/ccas.nas</file>
			<file>Aircraft/ATR72/Nasal/adu.nas</file>
			<file>Aircraft/ATR72/Nasal/brakesystem.nas</file>
			<file>Aircraft/ATR72/Nasal/ohpanel.nas</file>
		</atr>
		<hydraulics>
			<file>Aircraft/ATR72/Nasal/hydraulics/common.nas</file>
			<file>Aircraft/ATR72/Nasal/hydraulics/green.nas</file>
			<file>Aircraft/ATR72/Nasal/hydraulics/blue.nas</file>
			<file>Aircraft/ATR72/Nasal/hydraulics/brakes.nas</file>
			<file>Aircraft/ATR72/Nasal/hydraulics/hyd_loop.nas</file>
			<file>Aircraft/ATR72/Nasal/hydraulics/brk_loop.nas</file>
		</hydraulics>
	</nasal>

</PropertyList>
